"use strict";(function(a){var b=(function(){var h,g,e;var c=document.createElement("a");c.href=document.location.toString();var d=c.origin;window.addEventListener("message",function(i){if(i.data.parentId){h=i.data.parentId;e=i.data.methods;g=i.source;i.source.postMessage({channel:h,callback:"setContentHeight",args:f()},"*")}},false);var f=function(){var k=document.body,j=document.documentElement,i;i=Math.max(k.offsetHeight,j.offsetHeight);return i};return{createFrame:function(k,i,j){var l=function(m){if(m.origin===d){if(m.data.channel===k.id&&m.data.callback&&typeof(i[m.data.callback])==="function"){i[m.data.callback](m.data.args)}}else{console.error("Пшшшеееелллл вон!")}};return(function(){i.setContentHeight=function(n){this.contentHeight=n;if(j===true){this.resizeContentHeight(n)}};i.resizeContentHeight=function(n){k.height=(n||this.contentHeight||k.height)+"px"};var m={el:k,controller:i,init:function(){var n={parentId:k.id,methods:Object.keys(i)};this.el.addEventListener("load",function(){k.contentWindow.postMessage(n,d)});this.el.contentWindow.postMessage(n,d);window.addEventListener("message",this.listener,false)},destroy:function(){window.removeEventListener("message",this.listener,false)},setSrc:function(n){this.el.src=n},listener:l};return m})()},postMessage:function(i){if(e.indexOf(i.callback)!=-1){g.postMessage({channel:h,callback:i.callback,args:i.args},"*")}else{console.error("Undefined parent controller method - "+i.callback)}}}})();a.iframeMediator=b})(window);